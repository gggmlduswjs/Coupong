# 2026년 02월 05일 개발 로그

## 📊 오늘의 작업

---


## 22:12 - Git: fix: 신규 등록 AgGrid 행 클릭 상세보기 + 전체 선택 체크박스 추가


## [GIT] Commit: fix: 신규 등록 AgGrid 행 클릭 상세보기 + 전체 선택 체크박스 추가

**커밋 해시:** `ee410da`

**커밋 메시지:**
```
fix: 신규 등록 AgGrid 행 클릭 상세보기 + 전체 선택 체크박스 추가

- suppressRowClickSelection=False로 행 클릭 시 상세보기 활성화
- headerCheckboxSelection=True로 헤더에 전체 선택 체크박스 추가

Co-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>
```

**변경 통계:** +1254 -0 줄

**변경 파일:** (1개)
  - `dashboard.py`

**시간:** 22:12:28


---

## 22:15 - Git: chore: 프로젝트 설정 업데이트 (.gitignore, CLAUDE.md, 대시보드 설정)


## [GIT] Commit: chore: 프로젝트 설정 업데이트 (.gitignore, CLAUDE.md, 대시보드 설정)

**커밋 해시:** `e77f446`

**커밋 메시지:**
```
chore: 프로젝트 설정 업데이트 (.gitignore, CLAUDE.md, 대시보드 설정)

- .gitignore: 임시파일, 스크린샷, PDF 제외 규칙 추가
- CLAUDE.md: Coupong_vault 기반 Obsidian 자동 기록 규칙 추가
- .claude/settings.local.json: PostToolUse 훅 설정
- dashboard.py: CRLF 정규화

Co-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>
```

**변경 통계:** +187 -23 줄

**변경 파일:** (4개)
  - `.claude/settings.local.json`
  - `.gitignore`
  - `CLAUDE.md`
  - `dashboard.py`

**시간:** 22:15:26


---

## 22:15 - Git: refactor: Vault 이관 obsidian_vault → Coupong_vault + 글로벌 훅 전환


## [GIT] Commit: refactor: Vault 이관 obsidian_vault → Coupong_vault + 글로벌 훅 전환

**커밋 해시:** `350d1d1`

**커밋 메시지:**
```
refactor: Vault 이관 obsidian_vault → Coupong_vault + 글로벌 훅 전환

- 기존 obsidian_vault/ 전체 삭제 (Coupong_vault/로 이관)
- scripts/obsidian_hook.py 삭제 (글로벌 스크립트로 대체)
- Coupong_vault/ 신규 구조 추가 (01-Daily ~ 06-Conversations)
- scripts/install_global_hooks.py 추가

Co-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>
```

**변경 통계:** +9863 -23516 줄

**변경 파일:** (71개)
  - `Coupong_vault/00-Index/Claude-Integration.md`
  - `Coupong_vault/00-Index/Dashboard.md`
  - `Coupong_vault/00-Index/Development-Timeline.md`
  - `Coupong_vault/00-Index/Index.md`
  - `"Coupong_vault/00-Index/\355\224\204\353\241\234\354\240\235\355\212\270-\352\260\234\354\232\224.md"`
  - `Coupong_vault/01-Daily/2026-02-05.md`
  - `"Coupong_vault/01-Daily/\353\214\200\355\231\224-\354\232\224\354\225\275-2026-02-05.md"`
  - `Coupong_vault/02-Features/Database-Schema-V2.md`
  - `"Coupong_vault/02-Features/\353\247\210\354\247\204-\352\263\204\354\202\260\352\270\260.md"`
  - `"Coupong_vault/02-Features/\353\247\244\354\266\234-\353\266\204\354\204\235-\353\214\200\354\213\234\353\263\264\353\223\234.md"`
  - ... 외 61개

**시간:** 22:15:35


---

## 22:15 - Git: feat: 핵심 코드 확장 — 모델, WING API, 크롤러, 업로더


## [GIT] Commit: feat: 핵심 코드 확장 — 모델, WING API, 크롤러, 업로더

**커밋 해시:** `9319c8c`

**커밋 메시지:**
```
feat: 핵심 코드 확장 — 모델, WING API, 크롤러, 업로더

- app/models: revenue_history, settlement_history 모델 추가
- app/models: account (WING API 필드), listing (product_name 등) 확장
- app/api: CoupangWingClient (HMAC-SHA256 인증, WING API 호출)
- app/config.py: WING API 환경변수 설정 추가
- app/constants.py: BOOK_PRODUCT_DEFAULTS, WING_ACCOUNT_ENV_MAP 추가
- config/publishers.py: 신규 출판사 추가 (웰북, 나눔클래스 등)
- crawlers/aladin_api_crawler.py: API 기반 크롤링으로 전면 개편
- uploaders/coupang_api_uploader.py: WING API 상품 등록
- uploaders/coupang_csv_generator.py: CSV Ver.4.5 대응 리팩토링
- scripts/run_pipeline.py: 6단계 파이프라인 개선

Co-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>
```

**변경 통계:** +1753 -262 줄

**변경 파일:** (14개)
  - `app/api/__init__.py`
  - `app/api/coupang_wing_client.py`
  - `app/config.py`
  - `app/constants.py`
  - `app/models/__init__.py`
  - `app/models/account.py`
  - `app/models/listing.py`
  - `app/models/revenue_history.py`
  - `app/models/settlement_history.py`
  - `config/publishers.py`
  - ... 외 4개

**시간:** 22:15:55


---

## 22:16 - Git: feat: 운영 스크립트 + 자동시작 인프라 추가


## [GIT] Commit: feat: 운영 스크립트 + 자동시작 인프라 추가

**커밋 해시:** `47f0b9c`

**커밋 메시지:**
```
feat: 운영 스크립트 + 자동시작 인프라 추가

운영 스크립트:
- franchise_sync.py: 출판사별 알라딘 크롤링 + 마진 분석
- sync_coupang_products.py: WING API 상품 동기화
- sync_revenue.py: 매출 내역 동기화
- sync_settlement.py: 정산 내역 동기화
- auto_crawl.py: 매일 새벽 3시 자동 크롤링 데몬
- fill_images/isbn_aladin/isbn_api/prices.py: 데이터 보완 스크립트
- fix_listing_match.py: listing 매칭 수정
- setup_shipping_places.py: 출고지/반품지 설정

자동시작 인프라:
- setup_autostart.bat/ps1: Windows Startup 폴더 등록
- start_auto_crawl.vbs: 크롤러 숨김 실행
- start_dashboard.bat/hidden.vbs: 대시보드 숨김 실행

디버그/테스트:
- _check_api_response/db/progress.py: API/DB 점검 스크립트
- check_revenue/2.py: 매출 확인 스크립트
- test_api_upload/wing_api.py: API 테스트 스크립트

Co-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>
```

**변경 통계:** +3564 -0 줄

**변경 파일:** (23개)
  - `scripts/_check_api_response.py`
  - `scripts/_check_db.py`
  - `scripts/_check_progress.py`
  - `scripts/auto_crawl.py`
  - `scripts/check_revenue.py`
  - `scripts/check_revenue2.py`
  - `scripts/fill_images.py`
  - `scripts/fill_isbn_aladin.py`
  - `scripts/fill_isbn_api.py`
  - `scripts/fill_prices.py`
  - ... 외 13개

**시간:** 22:16:11


---

## 22:16 - 파이프라인 실행


## 🚀 파이프라인 실행 시작

출판사당 최대 1개 검색, dry_run=False

**시작 시간:** 22:16:21


---

## 22:16 - 출판사/계정 시딩


## 🚀 출판사/계정 시딩 시작

24개 출판사 + 5개 쿠팡 계정 등록 + WING API 연결

**시작 시간:** 22:16:21


---

## 22:16 - 출판사/계정 시딩 종료


## ✅ 출판사/계정 시딩 완료

**소요 시간:** 0.07초

**상태:** 성공


---

## 22:16 - 알라딘 API 검색


## 🚀 알라딘 API 검색 시작

출판사당 최대 1개 도서 검색

**시작 시간:** 22:16:21


---

## 22:17 - 알라딘 API 검색 종료


## ✅ 알라딘 API 검색 완료

**소요 시간:** 60.93초

**상태:** 성공


---

## 22:17 - 마진 분석


## 🚀 마진 분석 시작

도서별 마진 계산 및 배송 정책 결정

**시작 시간:** 22:17:22


---

## 22:17 - 마진 분석 종료


## ✅ 마진 분석 완료

**소요 시간:** 0.00초

**상태:** 성공


---

## 22:17 - WING API 동기화


## 🚀 WING API 동기화 시작

5개 계정 기존 상품 동기화

**시작 시간:** 22:17:22


---

## 22:18 - WING API 동기화 종료


## ✅ WING API 동기화 완료

**소요 시간:** 60.67초

**상태:** 성공


---

## 22:18 - 상품 등록


## 🚀 상품 등록 시작

계정별 상품 등록 (방식: csv)

**시작 시간:** 22:18:23


---

## 22:18 - 상품 등록 종료


## ✅ 상품 등록 완료

**소요 시간:** 17.43초

**상태:** 성공


---

## 22:18 - 파이프라인 결과

**파이프라인 실행 결과**

| 항목 | 수량 |
|------|------|
| 도서 | 2535개 |
| 단권상품 | 2535개 |
| 묶음상품 | 0개 |
| 등록현황 | 22471개 |

**상품 등록 (csv):**
- **007-book** (CSV): 1196개 상품
- **007-ez** (CSV): 1478개 상품
- **007-bm** (CSV): 1478개 상품
- **002-bm** (CSV): 1478개 상품
- **big6ceo** (CSV): 1478개 상품

**소요 시간:** 139.1초

---

## 22:18 - 파이프라인 실행 종료


## ✅ 파이프라인 실행 완료

**소요 시간:** 139.14초

**상태:** 성공


---

## 22:20 - 파이프라인 실행


## 🚀 파이프라인 실행 시작

출판사당 최대 1개 검색, dry_run=False

**시작 시간:** 22:20:18


---

## 22:20 - 출판사/계정 시딩


## 🚀 출판사/계정 시딩 시작

24개 출판사 + 5개 쿠팡 계정 등록 + WING API 연결

**시작 시간:** 22:20:18


---

## 22:20 - 출판사/계정 시딩 종료


## ✅ 출판사/계정 시딩 완료

**소요 시간:** 0.06초

**상태:** 성공


---

## 22:20 - 알라딘 API 검색


## 🚀 알라딘 API 검색 시작

출판사당 최대 1개 도서 검색

**시작 시간:** 22:20:18


---

## 22:21 - 알라딘 API 검색 종료


## ✅ 알라딘 API 검색 완료

**소요 시간:** 59.02초

**상태:** 성공


---

## 22:21 - 마진 분석


## 🚀 마진 분석 시작

도서별 마진 계산 및 배송 정책 결정

**시작 시간:** 22:21:17


---

## 22:21 - 마진 분석 종료


## ✅ 마진 분석 완료

**소요 시간:** 0.00초

**상태:** 성공


---

## 22:21 - WING API 동기화


## 🚀 WING API 동기화 시작

5개 계정 기존 상품 동기화

**시작 시간:** 22:21:17


---

## 22:22 - WING API 동기화 종료


## ✅ WING API 동기화 완료

**소요 시간:** 50.63초

**상태:** 성공


---

## 22:22 - 상품 등록


## 🚀 상품 등록 시작

계정별 상품 등록 (방식: auto)

**시작 시간:** 22:22:08


---

## 22:22 - 상품 등록 종료


## ✅ 상품 등록 완료

**소요 시간:** 4.26초

**상태:** 성공


---

## 22:22 - 파이프라인 결과

**파이프라인 실행 결과**

| 항목 | 수량 |
|------|------|
| 도서 | 2535개 |
| 단권상품 | 2535개 |
| 묶음상품 | 0개 |
| 등록현황 | 22471개 |

**상품 등록 (auto):**
- 새로 등록할 상품 없음 (모든 상품이 이미 등록됨)

**소요 시간:** 114.0초

---

## 22:22 - 파이프라인 실행 종료


## ✅ 파이프라인 실행 완료

**소요 시간:** 114.02초

**상태:** 성공


---

## 22:53 - WING API 동기화 실패

**동기화 오류:** `OperationalError: (sqlite3.OperationalError) database is locked
[SQL: UPDATE listings SET last_checked_at=? WHERE listings.id = ?]
[parameters: [('2026-02-05 13:52:31.161698', 7367), ('2026-02-05 13:52:31.162702', 7368), ('2026-02-05 13:52:31.162702', 7369), ('2026-02-05 13:52:31.163705', 7370), ('2026-02-05 13:52:31.165207', 7371), ('2026-02-05 13:52:31.166238', 7372), ('2026-02-05 13:52:31.166238', 7373), ('2026-02-05 13:52:31.167239', 7374)  ... displaying 10 of 50 total bound parameter sets ...  ('2026-02-05 13:52:31.195833', 7415), ('2026-02-05 13:52:31.197016', 7416)]]
(Background on this error at: https://sqlalche.me/e/20/e3q8)`

---

## 23:39 - WING API 동기화

**WING API 상품 동기화 완료** (force(전체 상세))

| 항목 | 수량 |
|------|------|
| 조회 | 2990개 |
| 신규 | 0개 |
| 업데이트 | 2990개 |
| ISBN 성공 | 0개 |
| ISBN 실패 | 2990개 |
| 상세 성공 | 2990개 |
| 상세 실패 | 0개 |
| DB Listings | 22471개 |
| 상세 보유 | 2990개 |

---

## 23:44 - WING API 동기화

**WING API 상품 동기화 완료** (quick(목록만))

| 항목 | 수량 |
|------|------|
| 조회 | 2990개 |
| 신규 | 0개 |
| 업데이트 | 2990개 |
| ISBN 성공 | 0개 |
| ISBN 실패 | 2990개 |
| DB Listings | 22471개 |
| 상세 보유 | 2990개 |

---
