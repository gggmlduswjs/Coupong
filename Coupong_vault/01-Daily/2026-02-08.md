# 2026년 02월 08일 개발 로그

## 오늘의 작업

---

## 02:45 - 검색 태그 Google 자동완성 기반 2차 일괄 업데이트 완료

- **작업 내용**: Google 자동완성 기반으로 강화된 검색 태그 로직을 전 상품 15,359개에 재적용 완료
  - 성공: 14,723개 (95.9%)
  - 동일(스킵): 62개
  - 실패: 574개
  - 5개 계정 전체 완료: 007-book, 007-ez, 007-bm, 002-bm, big6ceo
  - 실패 원인: 출판사 옵션값 중복(~560건, 상품 메타데이터 결함), 新 특수문자 검색어 형식 오류(~14건)
- **변경 파일**: 쿠팡 WING API를 통한 상품 검색태그 업데이트 (코드 변경 없음)
- **이유**: 자격증/IT/시리즈 상품의 검색 태그 품질 향상 (자격증 5→13개, IT 3→13개, 시리즈 15→20개)

---

## 03:03 - 자동 크롤링+등록 완료

- **검색**: 2831개 도서 검색
- **신규 도서**: 3개 발견
- **Product 생성**: 3개
- **미등록 갭**: 8403개
- **쿠팡 등록**: 성공 0개 / 실패 0개
- **재고동기화**: 가격변경 0개, 재고리필 0개
- **소요시간**: 223.2초

---

## 03:15 - 신규등록 버튼 클릭 무반응 버그 수정

- **작업 내용**: AgGrid 선택이 버튼 클릭 rerun 시 소실되는 문제 수정. `session_state`에 선택 상태 보존하여 버튼 동작 보장
- **변경 파일**: `dashboard.py` (신규 등록 섹션)
- **이유**: `update_on=["selectionChanged"]` 설정으로 버튼 클릭 rerun 시 선택 데이터가 안 전달됨 → `_approved_cnt=0` → 조건 불충족

---

## 03:30 - 신규등록 계정 선택 시 이미 등록된 계정 자동 제외

- **작업 내용**: 선택된 상품 기준으로 계정별 미등록 수 계산, 이미 전체 등록된 계정은 체크 해제. "미등록" 컬럼 추가, 등록 루프에서 이미 등록된 상품-계정 조합 자동 스킵
- **변경 파일**: `dashboard.py` (신규 등록 - 계정 선택 + 등록 루프)
- **이유**: 이미 올라간 계정에 중복 등록 시도 방지

---
