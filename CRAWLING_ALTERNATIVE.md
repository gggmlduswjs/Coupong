# 교보문고 크롤링 대안

## 🚨 문제 상황

교보문고(kyobobook.co.kr)는 **완전한 JavaScript SPA (Single Page Application)**로 구현되어 있어, 일반적인 크롤링 방법으로는 데이터 수집이 불가능합니다.

### 시도한 방법
1. ✗ Playwright (headless/non-headless)
2. ✗ Requests + BeautifulSoup
3. ✗ 다양한 CSS 선택자

### 실패 원인
- Next.js 등으로 구축된 최신 프론트엔드
- 완전한 클라이언트 사이드 렌더링
- 봇 감지 시스템
- API 엔드포인트 비공개

---

## ✅ 실용적인 대안 (우선순위순)

### 방법 1: 수동 입력 + 자동 CSV 생성 (★ 권장)

**가장 현실적이고 안전한 방법**

#### 흐름
```
1. 교보문고에서 판매하고 싶은 책 검색
2. ISBN/제목/가격을 엑셀에 수동 입력
3. 우리 시스템이 CSV 자동 생성
4. 쿠팡에 일괄 업로드
```

#### 장점
- ✅ 100% 작동 보장
- ✅ 약관 위반 없음
- ✅ 정확한 데이터
- ✅ 시간: 10개 상품 입력 약 5분

#### 구현
```python
# scripts/manual_input.py 제공
# 간단한 엑셀 템플릿 → CSV 변환
```

---

### 방법 2: 알라딘 API 사용 (공식)

**알라딘(aladin.co.kr)은 공식 API를 제공합니다**

#### API 정보
- URL: `http://www.aladin.co.kr/ttb/api/`
- 무료 사용 가능
- 인증키 발급 필요
- 도서 정보 조회 가능

#### 장점
- ✅ 공식 API (합법)
- ✅ 안정적
- ✅ 상세 정보 제공

#### 단점
- ⚠️ 인증키 발급 필요
- ⚠️ 일일 요청 제한

#### 구현 예정
```python
# crawlers/aladin_api_crawler.py
```

---

### 방법 3: YES24 크롤링

**YES24는 상대적으로 크롤링이 쉬움**

#### 장점
- ✅ 전통적인 HTML 구조
- ✅ BeautifulSoup 사용 가능

#### 단점
- ⚠️ 여전히 약관 위반 가능성

---

### 방법 4: 도서 데이터베이스 API

**국립중앙도서관 ISBN API**

#### API 정보
- URL: `https://www.nl.go.kr/seoji/`
- 무료
- ISBN으로 도서 정보 조회

#### 장점
- ✅ 공식 API
- ✅ 정확한 정보

#### 단점
- ⚠️ 가격 정보 없음
- ⚠️ 판매용이 아님

---

### 방법 5: 구글 Books API

```
https://www.googleapis.com/books/v1/volumes?q=isbn:{ISBN}
```

#### 장점
- ✅ 무료
- ✅ 글로벌 데이터

#### 단점
- ⚠️ 한국 도서 정보 부족
- ⚠️ 가격 정보 없음

---

## 🎯 추천 워크플로우

### 현재 최선의 방법

```
1. 판매할 책 목록 준비 (엑셀/메모장)
   - ISBN
   - 제목
   - 정가
   - 출판사

2. 간단한 입력 스크립트 실행
   python scripts/input_books.py

3. 자동으로 5개 계정용 CSV 생성
   ✓ 쿠팡 공식 템플릿
   ✓ 10% 할인 자동 계산
   ✓ 필수 항목 자동 입력

4. 쿠팡에 업로드
```

**소요 시간:**
- 수동 입력: 5분 (10개 책)
- CSV 생성: 자동 (1초)
- 업로드: 2분 (5개 계정)
- **총 7분**

vs 크롤링 디버깅: 수일~수주

---

## 💡 간단 입력 시스템 구현

### 엑셀 템플릿

```csv
ISBN,제목,정가,출판사,저자
9788956746425,초등 수학 문제집 3학년,15000,천재교육,교육연구소
9788956746426,초등 국어 독해력 향상,13500,비상교육,언어교육팀
```

### 자동 변환 스크립트

```bash
# 엑셀 → 쿠팡 CSV (5개 계정)
python scripts/excel_to_coupang.py input.csv

# 결과:
# data/uploads/coupang_official_account_1_*.csv
# data/uploads/coupang_official_account_2_*.csv
# ... (5개)
```

---

## 🔮 미래 개선 방향

### Phase 1 (현재)
- ✅ 수동 입력 시스템

### Phase 2 (1주 후)
- [ ] 알라딘 API 연동
- [ ] ISBN 자동 조회

### Phase 3 (1개월 후)
- [ ] OCR (책 표지 사진 → 정보 추출)
- [ ] 바코드 스캔 앱

---

## 📊 비교표

| 방법 | 난이도 | 시간 | 안전성 | 추천도 |
|------|--------|------|--------|--------|
| 수동 입력 | 하 | 5분 | ★★★★★ | ★★★★★ |
| 알라딘 API | 중 | 1시간 | ★★★★★ | ★★★★☆ |
| YES24 크롤링 | 중 | 2시간 | ★★★☆☆ | ★★★☆☆ |
| 교보 크롤링 | 상 | 수일 | ★★☆☆☆ | ★☆☆☆☆ |

---

## 🚀 지금 바로 사용 가능

### 이미 준비된 것
```
✅ 테스트 데이터 (5개 상품)
✅ CSV 생성기 (쿠팡 공식 템플릿)
✅ 5개 계정 관리
✅ DB 저장
```

### 다음 단계
1. **간단 입력 시스템 만들기** (30분)
2. **알라딘 API 연동** (1시간)
3. **YES24 크롤러** (2시간)

어떤 것부터 하시겠어요?
